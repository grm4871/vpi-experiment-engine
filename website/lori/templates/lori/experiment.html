<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{url_for('.static', filename='style.css')}}">
    <title>Facial Recognition Experiment</title>
    <div id='experiment'>
        <div id='timer'>
            Your experiment will begin in 5.   
        </div>
        <img id='slideshow' src='' width=60%></img>
    </div>

    <div id='instructions' hidden>
        <h>Select the faces that appeared</h>
        <form method="POST">
            <!-- Add selectable images here-->
        </form>
        <input type="submit" value="Continue">
    </div>
</head>

<script src="{{url_for('.static', filename='script.js')}}"></script>
<script>
    const isExperimentPage = document.documentElement.classList.contains('experiment');

    var trial = 0;
    var timer = 6;
    var state = 0;
    var img = 1;

    countDown()

    function countDown() {
        timer -= 1;
        if (timer == 0) {
                state++;
                displayImage(img);
                timer = 5;
                img++;
        }
        if(state == 2) {
            document.getElementById('instructions').hidden = false;
            document.getElementById('experiment').hidden = true;
        }
        else if (state == 0) {
            document.getElementById('timer').innerHTML = `Your experiment will begin in ${timer}.`
        }
        else if(state >= 1) {     
            document.getElementById('timer').innerHTML = `Time left: ${timer}.`
        }
        
        window.setTimeout(countDown, 1000);
    }

    function displayImage(img) {
        document.getElementById('slideshow').src = `static\\images\\_\\${img}_whitem.jpeg`;
    }

</script>
</html>

 