<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{url_for('static', filename='style.css')}}">
    <title>{% block title %}{% endblock %}</title>
</head>
<body>
    <div class="content-wrap">
        <h1>{{ self.title() }}</h1>
        
        {% block description %}{% endblock %}
        
        <h2>First, please provide some information about yourself.</h2>
        <p class="fine-print">Information will only be used for conducting this experiment, and results will be anonymized.</p>
        
        <form method="POST">
            {%- for q_id, q_info in questions.items() %}
                <p>
                    {%- if q_info['type'] == 'radio' %}
                        <b>{{q_info['label']}}</b><br>
                        {%- for value, text in q_info['options'] %}
                            <input type="radio" id="{{q_id}}-{{value}}" name="{{q_id}}" value="{{value}}"
                                required {%- if value==session[q_id] %} checked{%- endif -%}>
                            <label for="{{q_id}}-{{value}}">{{text}}</label>
                            <br>
                        {%- endfor -%}
                    {%- else %}
                        <label for="{{q_id}}"><b>{{q_info['label']}}</b></label><br>
                        <input type="{{q_info['type']}}" id="{{q_id}}" name="{{q_id}}" value="{{session[q_id]}}"
                            required {%- if loop.first %} autofocus{%- endif -%}>
                    {%- endif %}
                </p>
            {%- endfor %}
            
            <input type="submit" value="Continue">
        </form>
    </div>
</body>
</html>
